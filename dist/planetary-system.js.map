{"version":3,"sources":["webpack://PlanetarySystem/webpack/universalModuleDefinition","webpack://PlanetarySystem/webpack/bootstrap","webpack://PlanetarySystem/webpack/runtime/define property getters","webpack://PlanetarySystem/webpack/runtime/hasOwnProperty shorthand","webpack://PlanetarySystem/./src/utils.js","webpack://PlanetarySystem/./src/objects/sun.js","webpack://PlanetarySystem/./src/objects/moon-orbit.js","webpack://PlanetarySystem/./src/objects/moon.js","webpack://PlanetarySystem/./src/objects/planet.js","webpack://PlanetarySystem/./src/objects/planet-orbit.js","webpack://PlanetarySystem/./src/scene/scene.js","webpack://PlanetarySystem/./src/scene/drag.js","webpack://PlanetarySystem/./src/scene/zoom.js","webpack://PlanetarySystem/./src/scene/resize.js","webpack://PlanetarySystem/./src/index.js"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","className","size","$node","document","createElement","style","width","height","src","$img","label","$label","textContent","perspective","angle","a","Math","PI","cos","sin","Sun","options","this","system","sizes","sun","distance","image","scale","$image","appendChild","$items","translate","gsap","to","duration","durations","sqrt","canvas","paused","ease","Power1","easeInOut","onUpdate","setTransform","addEventListener","emit","on","play","reverse","transform","x","y","camera","MoonOrbit","normalOrbitSizes","moon","planet","opacity","orbit","index","$orbits","fade","setOpacity","moonOrbit","setSize","resize","activeOrbitSizes","_resize","kill","Moon","moons","length","note","spin","speed","repeat","Power0","easeNone","onStart","onReverseComplete","pause","active","classList","add","remove","value","timeScale","includes","move","resume","_move","Planet","planets","map","Orbit","random","setStyle","Scene","minScale","maxScale","zoom","padding","scene","drag","getEvent","event","touches","changedTouches","start","end","e","clientX","clientY","sceneX","sceneY","render","preventDefault","passive","deltaY","delta","origin","zoomTo","pinch","getDist","w","h","hypot","getOrigin","x1","max","x2","min","y1","pinchEnd","dist","getComputedStyle","top","parseFloat","getPropertyValue","right","bottom","left","freeWidth","offsetWidth","freeHeight","offsetHeight","freeSize","sceneWidth","$scene","sceneHeight","window","pow","getBoundingClientRect","x0","y0","PlanetarySystem","listeners","setCamera","getOrbitSizes","maxOrbit","orbits","minSunDist","Array","from","i","handler","push","indexOf","splice","param","forEach"],"mappings":"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","file":"planetary-system.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PlanetarySystem\"] = factory();\n\telse\n\t\troot[\"PlanetarySystem\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default {\n\n    createNode (className, size) {\n        const $node = document.createElement('div');\n        $node.className = className;\n        if (size) $node.style.width = $node.style.height = size + 'px';\n        return $node;\n    },\n\n    createImage (src) {\n        const $img = document.createElement('img');\n        $img.src = src;\n        return $img;\n    },\n\n    createLabel (label) {\n        const $label = document.createElement('p');\n        $label.textContent = label;\n        return $label;\n    },\n\n    getSceneHeight (size, { perspective, angle }) {\n        const a = angle * Math.PI / 180;\n        const y = size / 2 * Math.cos(a); // size/2 - sun in the center\n        const z = size / 2 * Math.sin(a);\n        const h = size / 2 + (y - size / 2) * perspective / (perspective + z);\n        return h * 2;\n    }\n    \n}","import Utils from '@/utils'\n\nexport default class Sun {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (options) {\n\n\n        // options\n\n        this.size = options.size || options.system.options.sizes.sun;\n        this.angle = options.angle || 0;\n        this.distance = options.distance || 0;\n        this.system = options.system;\n        this.image = options.image;\n        this.scale = options.scale || 1;\n\n\n        // create nodes\n\n        this.$node = Utils.createNode('ps-item ps-sun', this.size);\n        this.$image = Utils.createImage(this.image);\n        this.$node.appendChild(this.$image);\n        this.system.$items.appendChild(this.$node);\n\n\n        // translate animation\n\n        this.translate = gsap.to(this, {\n            duration: this.system.options.durations.translate,\n            distance: Math.sqrt(2) * (this.system.options.sizes.canvas - this.size) / 2,\n            paused: true,\n            ease: Power1.easeInOut,\n            onUpdate: () => {\n                this.setTransform();\n            }\n        })\n\n\n        // DOM listeners\n\n        this.$node.addEventListener('click', () => {\n            this.system.emit('deactivate');\n        })\n\n\n        // event listeners\n\n        this.system.on('activate', () => {\n            this.translate.play();\n        });\n\n        this.system.on('deactivate', () => {\n            this.translate.reverse();\n        });\n\n\n        // render\n\n        this.setTransform();\n        this.system.on('camera', () => this.setTransform());\n\n    }\n\n\n\n    // ----------------------\n    // Style setters\n    // ----------------------\n\n    get x () {\n        return this.distance * Math.cos(this.angle * Math.PI / 180);\n    }\n\n    get y () {\n        return this.distance * Math.sin(this.angle * Math.PI / 180)\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate(${this.x - this.size / 2}px, ${this.y - this.size / 2}px) rotateX(-${this.system.camera.angle}deg) scale(${this.scale})`\n    }\n\n\n\n}","import Utils from '@/utils'\n\nexport default class MoonOrbit {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (options) {\n\n\n        // options\n\n        this.size = options.system.normalOrbitSizes.moon;\n        this.planet = options.planet;\n        this.system = options.system;\n        this.opacity = 0;\n        this.angle = this.planet.angle;\n\n\n        // create node\n\n        this.$node = Utils.createNode(`ps-orbit ps-orbit-${this.planet.orbit.index} ps-planet-${this.planet.index} ps-moon-orbit`, this.size);\n        this.system.$orbits.appendChild(this.$node);\n\n\n        // fade animation\n\n        this.fade = gsap.to(this, {\n            duration: this.system.options.durations.fade,\n            opacity: 1,\n            paused: true,\n            ease: Power1.easeInOut,\n            onUpdate: () => {\n                this.setTransform();\n                this.setOpacity();\n            }\n        })\n\n\n        // event listeners\n\n        this.system.on('enter', planet => {\n            if (planet.moonOrbit !== this) return;\n            this.setSize();\n            this.setTransform();\n            this.fade.play();\n        })\n\n        this.system.on('leave', planet => {\n            if (planet.moonOrbit !== this) return;\n            this.fade.reverse();\n        })\n\n        this.system.on('activate', planet => {\n            if (planet.moonOrbit === this) {\n                this.resize(this.system.activeOrbitSizes[0]);\n                this.fade.play();\n            }\n            else {\n                this.resize(this.system.activeOrbitSizes.moon);\n                this.fade.reverse();\n            }\n        })\n\n        this.system.on('deactivate', () => {\n            this.resize(this.system.normalOrbitSizes.moon);\n            this.fade.reverse();\n        })\n\n\n        // render\n\n        this.setOpacity();\n\n    }\n\n\n\n    // ----------------------\n    // Helpers\n    // ----------------------\n\n    resize (size) {\n        this._resize && this._resize.kill();\n        this._resize = gsap.to(this, {\n            duration: this.system.options.durations.translate,\n            size,\n            ease: Power1.easeInOut,\n            onUpdate: () => {\n                if (!this.opacity) return;\n                this.setSize();\n                this.setTransform();\n            }\n        });\n    }\n\n\n\n    // ----------------------\n    // Style setters\n    // ----------------------\n\n    setOpacity () {\n        this.$node.style.opacity = this.opacity;\n    }\n\n    setSize () {\n        this.$node.style.width = this.$node.style.height = this.size + 'px';\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate(${this.planet.x - this.size / 2}px, ${this.planet.y - this.size / 2}px)`\n    }\n\n}","import Utils from '@/utils'\n\nexport default class Moon {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor(options) {\n\n\n        // options\n\n        this.index = options.index;\n        this.planet = options.planet;\n        this.system = options.system;\n\n        this.size = options.size || options.system.options.sizes.moon;\n        this.scale = options.scale || 1;\n        this.angle = options.index * 360 / options.planet.moons.length;\n        this.distance = options.system.normalOrbitSizes.moon / 2;\n        this.opacity = 0;\n\n        this.image = options.image;\n        this.label = options.label;\n        this.note = options.note;\n\n\n        // create nodes\n\n        this.$node = Utils.createNode(`ps-item ps-ring-${this.planet.orbit.index} ps-planet-${this.planet.index} ps-moon-${this.index} ps-moon`, this.size);\n        this.$image = Utils.createImage(this.image);\n        this.$label = Utils.createLabel(this.label);\n        this.$node.appendChild(this.$image);\n        this.$node.appendChild(this.$label);\n        this.system.$items.appendChild(this.$node);\n\n\n        // spin animation\n\n        this.spin = gsap.to(this, {\n            duration: 2 * Math.PI * this.distance * this.system.options.speed,\n            angle: this.angle + 360,\n            repeat: -1,\n            paused: true,\n            ease: Power0.easeNone,\n            onUpdate: () => {\n                this.setTransform();\n            }\n        });\n\n\n        // fade animation\n\n        this.fade = gsap.to(this, {\n            opacity: 1,\n            duration: this.system.options.durations.fade,\n            paused: true,\n            ease: Power1.easeInOut,\n            onStart: () => {\n                if (!this.system.paused) this.spin.play();\n                else this.setTransform();\n            },\n            onUpdate: () => {\n                this.setOpacity();\n            },\n            onReverseComplete: () => {\n                this.spin.pause();\n            }\n        })\n\n\n        // DOM listeners\n\n        this.$node.addEventListener('mouseenter', () => {\n            if (!this.planet.active) return;\n            this.$node.classList.add('hovered');\n            this.system.emit('moon:enter', this);\n        })\n\n        this.$node.addEventListener('mouseleave', () => {\n            if (!this.planet.active) return;\n            this.$node.classList.remove('hovered');\n            this.system.emit('moon:leave', this);\n        })\n\n        this.$node.addEventListener('click', () => {\n            if (!this.planet.active) return;\n            this.system.emit('click', this);\n        })\n\n\n        // event listeners\n\n        this.system.on('pause', () => {\n            this.spin.pause();\n        })\n\n        this.system.on('resume', () => {\n            this.spin.play();\n        })\n\n        this.system.on('timescale', value => {\n            this.spin.timeScale(value);\n        })\n\n        this.system.on('enter', planet => {\n            if (planet.moons.includes(this)) this.fade.play();\n        })\n\n        this.system.on('leave', planet => {\n            if (planet.moons.includes(this)) this.fade.reverse();\n        })\n\n        this.system.on('activate', planet => {\n            if (planet.moons.includes(this)) {\n                this.move(this.system.activeOrbitSizes[0] / 2, this.system.options.sizes.planet / this.size);\n                this.fade.play();\n            }\n            else {\n                this.move(this.system.activeOrbitSizes.moon / 2, 1);\n                this.fade.reverse();\n            }\n        })\n\n        this.system.on('deactivate', () => {\n            this.move(this.system.normalOrbitSizes.moon / 2, 1);\n            this.fade.reverse();\n        })\n\n        this.system.on('moon:enter', moon => {\n            if (!moon.planet.moons.includes(this)) return;\n            if (!this.system.paused) this.spin.pause();\n        });\n\n        this.system.on('moon:leave', moon => {\n            if (!moon.planet.moons.includes(this)) return;\n            if (!this.system.paused) this.spin.resume();\n        });\n\n        this.system.on('camera', () => {\n            if (this.system.paused) this.setTransform();\n        });\n\n\n        // render\n\n        this.setOpacity();\n        this.setTransform();\n\n    }\n\n\n    // ----------------------\n    // Helpers\n    // ----------------------\n\n    move (distance, scale) {\n        this._move && this._move.kill();\n        this._move = gsap.to(this, {\n            duration: this.system.options.durations.translate,\n            distance,\n            scale,\n            ease: Power1.easeInOut,\n            onUpdate: () => {\n                if (!this.opacity) return;\n                this.setTransform();\n            }\n        });\n    }\n\n\n\n    // ----------------------\n    // Styles setters\n    // ----------------------\n\n    setOpacity () {\n        this.$node.style.opacity = this.opacity;\n    }\n\n    get x () {\n        return this.planet.x + this.distance * Math.cos(this.angle * Math.PI / 180);\n    }\n\n    get y () {\n        return this.planet.y + this.distance * Math.sin(this.angle * Math.PI / 180)\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate3d(${this.x - this.size / 2}px, ${this.y - this.size / 2}px, 0) rotateX(-${this.system.camera.angle}deg) scale(${this.scale})`\n    }\n\n}","import Utils from '@/utils'\nimport MoonOrbit from '@/objects/moon-orbit'\nimport Moon from '@/objects/moon'\n\nexport default class Planet {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (options) {\n\n\n        // options\n\n        this.index = options.index;\n        this.orbit = options.orbit;\n        this.system = options.system;\n        this.moons = options.moons || [];\n\n        this.size = options.size || options.system.options.sizes.planet;\n        this.scale = options.scale || 1;\n        this.angle = options.orbit.angle + this.index * 360 / options.orbit.planets.length;\n        this.distance = options.orbit.size / 2;\n\n        this.image = options.image;\n        this.label = options.label;\n        this.note = options.note;\n\n        this.active = false;\n\n\n        // create moon orbit\n\n        this.moonOrbit = new MoonOrbit({\n            planet: this,\n            system: this.system\n        })\n\n\n        // create moons\n\n        this.moons = this.moons.map((options, index) => {\n            return new Moon({\n                ...options,\n                index,\n                planet: this,\n                system: this.system\n            })\n        })\n\n\n        // create nodes\n\n        this.$node = Utils.createNode(`ps-item ps-planet ps-planet-${this.index} ps-orbit-${this.orbit.index}`, this.size);\n        this.$image = Utils.createImage(this.image);\n        this.$label = Utils.createLabel(this.label);\n        this.$node.appendChild(this.$image);\n        this.$node.appendChild(this.$label);\n        this.system.$items.appendChild(this.$node);\n\n\n        // spin animations\n\n        this.spin = gsap.to(this, {\n            duration: 2 * Math.PI * this.distance * this.system.options.speed,\n            angle: this.angle + 360,\n            repeat: -1,\n            ease: Power0.easeNone,\n            onUpdate: () => {\n                this.setTransform();\n            }\n        });\n\n\n        // DOM listeners\n\n        this.$node.addEventListener('mouseenter', () => {\n            if (this.active) return;\n            this.$node.classList.add('hovered');\n            this.system.emit('enter', this);\n        })\n\n        this.$node.addEventListener('mouseleave', () => {\n            this.$node.classList.remove('hovered');\n            if (this.active) return;\n            this.system.emit('leave', this);\n        })\n\n        this.$node.addEventListener('click', () => {\n            if (this.active) this.system.emit('click', this);\n            else this.system.emit('activate', this);\n        })\n\n\n        // event listeners\n\n        this.system.on('pause', () => {\n            this.spin.pause();\n        })\n\n        this.system.on('resume', () => {\n            this.spin.play();\n        })\n\n        this.system.on('timescale', value => {\n            this.spin.timeScale(value);\n        })\n\n        this.system.on('enter', planet => {\n            if (planet.orbit !== this.orbit) return;\n            if (!this.system.paused) this.spin.pause();\n        })\n\n        this.system.on('leave', planet => {\n            if (planet.orbit !== this.orbit) return;\n            if (!this.system.paused) this.spin.resume();\n        })\n\n        this.system.on('activate', planet => {\n            if (planet === this) {\n                this.active = true;\n                this.$node.classList.add('active');\n                this.move(0, this.system.options.sizes.sun / this.size);\n            }\n            else {\n                this.active = false;\n                this.$node.classList.remove('active');\n                this.move(this.system.activeOrbitSizes[this.orbit.index + 1] / 2, 1);\n            }\n        })\n\n        this.system.on('deactivate', () => {\n            this.active = false;\n            this.move(this.system.normalOrbitSizes[this.orbit.index] / 2, 1);\n            if (!this.system.paused) this.spin.resume();\n        });\n\n        this.system.on('camera', () => {\n            if (this.system.paused) this.setTransform();\n        });\n\n        \n    }\n\n\n\n    // ----------------------\n    // Helpers\n    // ----------------------\n\n    move (distance, scale) {\n        this._move && this._move.kill();\n        this._move = gsap.to(this, {\n            duration: this.system.options.durations.translate,\n            distance,\n            scale,\n            ease: Power1.easeInOut,\n            onUpdate: () => {\n                this.setTransform();\n            }\n        });\n    }\n\n\n\n    // ----------------------\n    // Styles setters\n    // ----------------------\n\n    get x () {\n        return this.distance * Math.cos(this.angle * Math.PI / 180);\n    }\n\n    get y () {\n        return this.distance * Math.sin(this.angle * Math.PI / 180)\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate3d(${this.x - this.size / 2}px, ${this.y - this.size / 2}px, 0) rotateX(-${this.system.camera.angle}deg) scale(${this.scale})`\n    }\n\n\n}\n\n","import Utils from '@/utils'\nimport Planet from '@/objects/planet'\n\nexport default class Orbit {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (options) {\n\n\n        // options\n\n        this.index = options.index;\n        this.size = options.system.normalOrbitSizes[this.index];\n        this.angle = options.angle || Math.random() * 360;\n        this.planets = options.planets || [];\n        this.system = options.system;\n\n\n        // create node\n\n        this.$node = Utils.createNode(`ps-orbit ps-orbit-${this.index} ps-planet-orbit`, this.size);\n        this.system.$orbits.appendChild(this.$node);\n\n\n        // create planets\n\n        this.planets = this.planets.map((options, index) => new Planet({\n            ...options,\n            index,\n            orbit: this,\n            system: this.system\n        }))\n\n\n        // resize animation\n\n        this.resize = gsap.to(this, {\n            size: this.system.activeOrbitSizes[this.index + 1],\n            duration: this.system.options.durations.translate,\n            paused: true,\n            ease: Power1.easeInOut,\n            onUpdate: () => {\n                this.setStyle();\n            }\n        })\n\n\n        // event listeners\n\n        this.system.on('activate', () => {\n            this.resize.play()\n        })\n\n        this.system.on('deactivate', () => {\n            this.resize.reverse()\n        })\n\n\n        // render\n\n        this.setStyle();\n\n    }\n\n\n\n    // ----------------------\n    // Style setters\n    // ----------------------\n\n    setStyle () {\n        this.$node.style.width = this.$node.style.height = this.size + 'px';\n        this.$node.style.transform = `translate(-${this.size / 2}px, -${this.size / 2}px)`\n    }\n\n\n}","import drag from './drag'\nimport zoom from './zoom'\nimport resize from './resize'\n\nexport default class Scene {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (system) {\n\n        this.x = 0;\n        this.y = 0;\n        this.minScale = 0;\n        this.maxScale = 0;\n        this.zoom = 0;\n        this.system = system;\n        this.padding = {};\n\n        drag(this);\n        zoom(this);\n        resize(this);\n\n    }\n\n\n\n    // ----------------------\n    // Getters\n    // ----------------------\n\n    get scale () {\n        return this.minScale * Math.pow(this.maxScale / this.minScale, this.zoom);\n    }\n\n\n\n    // ----------------------\n    // Zoom into point\n    // ----------------------\n\n    zoomTo (origin, zoom) {\n\n        const { left, top } = this.system.$node.getBoundingClientRect();\n\n        const x = origin.x - left - this.padding.left;\n        const y = origin.y - top - this.padding.top;\n\n        const x0 = (x - this.x) / this.scale;\n        const y0 = (y - this.y) / this.scale;\n\n        zoom = Math.max(zoom, 0);\n        zoom = Math.min(zoom, 1);\n\n        this.zoom = zoom;\n        this.x = x - x0 * this.scale;\n        this.y = y - y0 * this.scale;\n\n        this.render();\n        this.system.emit('zoom', this.zoom)\n    }\n\n\n    // ----------------------\n    // Methods\n    // ----------------------\n\n    render () {\n        this.system.$scene.style.transform = `translate(${this.x}px, ${this.y}px) scale(${this.scale})`;\n    }\n\n}","export default function (scene) {\n\n\n\n    // ----------------------\n    // Variables\n    // ----------------------\n\n    let drag = false;\n\n\n\n    // ----------------------\n    // Helpers\n    // ----------------------\n\n    function getEvent (event) {\n        return event.touches && event.touches[0] || event.changedTouches && event.changedTouches[0] || event;\n    }\n\n\n\n    // ----------------------\n    // Handlers\n    // ----------------------\n\n    function start (event) {\n        if (event.touches && event.touches.length > 1) return end();\n        const e = getEvent(event);\n        drag = {\n            clientX: e.clientX,\n            clientY: e.clientY,\n            sceneX: scene.x,\n            sceneY: scene.y\n        }\n    }\n\n    function move (event) {\n        if (!drag) return;\n        const e = getEvent(event);\n        scene.x = drag.sceneX + e.clientX - drag.clientX;\n        scene.y = drag.sceneY + e.clientY - drag.clientY;\n        scene.render();\n        event.preventDefault();\n    }\n\n    function end () {\n        drag = false;\n    }\n\n\n\n    // ----------------------\n    // Listeners\n    // ----------------------\n\n    scene.system.$node.addEventListener('mousedown', start);\n    document.addEventListener('mousemove', move);\n    document.addEventListener('mouseup', end);\n    document.addEventListener('mouseleave', end);\n    scene.system.$node.addEventListener('touchstart', start);\n    document.addEventListener('touchmove', move, { passive: false });\n    document.addEventListener('touchend', end);\n    document.addEventListener('touchcancel', end);\n\n\n}","export default function (scene) {\n\n\n\n    // ----------------------\n    // Wheel\n    // ----------------------\n\n    scene.system.$node.addEventListener('wheel', event => {\n\n        event.preventDefault();\n\n        if (event.deltaY > 0 && scene.zoom === 0) return;\n        if (event.deltaY < 0 && scene.zoom === 1) return;\n\n        const delta = -event.deltaY / 1000;\n        const origin = { x: event.clientX, y: event.clientY };\n\n        scene.zoomTo(origin, scene.zoom + delta);\n\n    })\n\n\n\n    // ----------------------\n    // Pinch\n    // ----------------------\n\n    let pinch = false;\n\n    function getDist (event) {\n        const w = event.touches[0].clientX - event.touches[1].clientX;\n        const h = event.touches[0].clientY - event.touches[1].clientY;\n        return Math.hypot(w, h);\n    }\n\n    function getOrigin (event) {\n        const x1 = Math.max(event.touches[0].clientX, event.touches[1].clientX);\n        const x2 = Math.min(event.touches[0].clientX, event.touches[1].clientX);\n        const y1 = Math.max(event.touches[0].clientY, event.touches[1].clientY);\n        const y2 = Math.min(event.touches[0].clientY, event.touches[1].clientY);\n        return {\n            x: x1 - (x1 - x2) / 2,\n            y: y1 - (y1 - y2) / 2,\n        }\n    }\n\n    function pinchStart (event) {\n        if (event.touches.length !== 2) return pinchEnd();\n        pinch = {};\n        pinch.dist = getDist(event);\n        pinch.zoom = scene.zoom;\n        pinch.origin = getOrigin(event);\n    }\n\n    function pinchMove (event) {\n        if (!pinch) return;\n        const dist = getDist(event);\n        const delta = (dist - pinch.dist) / 1000;\n        scene.zoomTo(getOrigin(event), pinch.zoom + delta);\n        event.preventDefault();\n    }\n\n    function pinchEnd () {\n        pinch = false;\n    }\n\n    scene.system.$node.addEventListener('touchstart', pinchStart);\n    document.addEventListener('touchmove', pinchMove, { passive: false });\n    document.addEventListener('touchend', pinchEnd);\n    document.addEventListener('touchcancel', pinchEnd);\n\n\n\n}","export default function (scene) {\n\n\n\n    // ----------------------\n    // Handler\n    // ----------------------\n\n    function resize () {\n\n        const style = getComputedStyle(scene.system.$node);\n        scene.padding.top = parseFloat(style.getPropertyValue('padding-top'));\n        scene.padding.right = parseFloat(style.getPropertyValue('padding-right'));\n        scene.padding.bottom = parseFloat(style.getPropertyValue('padding-bottom'));\n        scene.padding.left = parseFloat(style.getPropertyValue('padding-left'));\n\n        const freeWidth = scene.system.$node.offsetWidth - scene.padding.right - scene.padding.left;\n        const freeHeight = scene.system.$node.offsetHeight - scene.padding.bottom - scene.padding.top;\n        const freeSize = Math.min(freeWidth, freeHeight)\n        const sceneWidth = scene.system.$scene.offsetWidth;\n        const sceneHeight = scene.system.$scene.offsetHeight;\n\n        scene.zoom = 0.4;\n        scene.minScale = Math.min(freeSize / sceneWidth, freeSize / sceneHeight);\n        scene.maxScale = Math.min(freeSize) / 2 / scene.system.options.sizes.sun;\n\n        scene.x = (freeWidth - sceneWidth * scene.scale) / 2;\n        scene.y = (freeHeight - sceneHeight * scene.scale) / 2;\n        scene.render();\n        scene.system.emit('zoom', scene.zoom);\n\n    }\n\n\n\n    // ----------------------\n    // Listener\n    // ----------------------\n\n    resize();\n    window.addEventListener('resize', resize);\n    scene.system.on('camera', resize);\n\n\n}","import './index.css'\nimport Utils from '@/utils'\nimport Sun from '@/objects/sun'\nimport PlanetOrbit from '@/objects/planet-orbit'\nimport Scene from '@/scene/scene'\n\n\nexport default class PlanetarySystem {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor ($node, options) {\n\n        this.options = options;\n        this.listeners = [];\n\n\n        // create nodes\n\n        this.$node = $node;\n        this.$node.classList.add('ps-system');\n        this.$scene = Utils.createNode('ps-scene');\n        this.$orbits = Utils.createNode('ps-canvas ps-canvas--orbits');\n        this.$items = Utils.createNode('ps-canvas ps-canvas--items');\n        this.$scene.appendChild(this.$orbits);\n        this.$scene.appendChild(this.$items);\n        this.$node.appendChild(this.$scene);\n\n\n        // configuration\n\n        this.setCamera(options.camera);\n        this.normalOrbitSizes = this.getOrbitSizes(this.maxOrbit);\n        this.activeOrbitSizes = this.getOrbitSizes(this.maxOrbit + 1);\n        this.active = null;\n        this.paused = false;\n        this.timeScale = 1;\n        this.scene = new Scene(this);\n\n\n\n        // listeners\n\n        // this.on('activate', planet => this.active = planet);\n        // this.on('deactivate', () => this.active = null);\n\n\n        // create sun\n\n        this.sun = new Sun({\n            ...options.sun,\n            system: this\n        });\n\n\n        // create orbits\n\n        this.orbits = options.orbits.map((options, index) => new PlanetOrbit({\n            ...options,\n            index,\n            system: this\n        }));\n\n        // console.log(this.normalOrbitSizes);\n        // console.log(this.activeOrbitSizes);\n\n\n    }\n\n\n\n    // ----------------------\n    // Calculate orbit sizes\n    // ----------------------\n\n    getOrbitSizes (length) {\n        const { canvas, sun, moon } = this.options.sizes;\n        const minSunDist = (canvas - sun) / (length * 2 + 1);\n        let orbits = Array.from({ length }, (x, i) => sun + (i + 1) * minSunDist * 2);\n        orbits.moon = minSunDist - moon;\n        return orbits;\n    }\n    \n    get maxOrbit () {\n        return this.options.orbits.length;\n    }\n\n\n\n    // ----------------------\n    // Setting camera\n    // ----------------------\n\n    setCamera (camera) {\n        const transform = camera.angle ? `perspective(${camera.perspective}px) translateY(50%) rotateX(${camera.angle}deg) translateY(-50%)` : '';\n        this.$orbits.style.transform = this.$items.style.transform = transform;\n        this.$scene.style.width = this.options.sizes.canvas + 'px';\n        this.$scene.style.height = Utils.getSceneHeight(this.options.sizes.canvas, camera) + 'px';\n        this.camera = camera;\n        this.emit('camera', camera);\n    }\n\n\n\n    // ----------------------\n    // Events\n    // ----------------------\n\n    on (event, handler) {\n        this.listeners[event] = this.listeners[event] || [];\n        this.listeners[event].push(handler);\n    }\n\n    off (event, handler) {\n        if (!this.listeners[event]) return;\n        const index = this.listeners[event].indexOf(handler);\n        if (index > -1) this.listeners[event].splice(index, 1);\n    }\n\n    emit (event, param) {\n        if (!this.listeners[event]) return;\n        this.listeners[event].forEach(handler => handler(param));\n    }\n\n\n\n    // ----------------------\n    // Animation\n    // ----------------------\n\n    resume () {\n        this.paused = false;\n        this.emit('resume');\n    }\n\n    pause () {\n        this.paused = true;\n        this.emit('pause');\n    }\n\n    setTimeScale (timeScale) {\n        this.timeScale = timeScale;\n        this.emit('timescale', this.timeScale);\n    }\n\n\n\n}"],"sourceRoot":""}