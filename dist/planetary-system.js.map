{"version":3,"sources":["webpack://PlanetarySystem/webpack/universalModuleDefinition","webpack://PlanetarySystem/webpack/bootstrap","webpack://PlanetarySystem/webpack/runtime/define property getters","webpack://PlanetarySystem/webpack/runtime/hasOwnProperty shorthand","webpack://PlanetarySystem/./src/helpers/utils.js","webpack://PlanetarySystem/./src/objects/sun.js","webpack://PlanetarySystem/./src/objects/moon-orbit.js","webpack://PlanetarySystem/./src/helpers/animations.js","webpack://PlanetarySystem/./src/objects/moon.js","webpack://PlanetarySystem/./src/objects/planet.js","webpack://PlanetarySystem/./src/objects/planet-orbit.js","webpack://PlanetarySystem/./src/scene/scene.js","webpack://PlanetarySystem/./src/scene/drag.js","webpack://PlanetarySystem/./src/scene/zoom.js","webpack://PlanetarySystem/./src/scene/resize.js","webpack://PlanetarySystem/./src/transitions/planet-enter.js","webpack://PlanetarySystem/./src/transitions/planet-leave.js","webpack://PlanetarySystem/./src/transitions/planet-deactivate.js","webpack://PlanetarySystem/./src/transitions/planet-update.js","webpack://PlanetarySystem/./src/transitions/planet-click.js","webpack://PlanetarySystem/./src/transitions/planet-activate.js","webpack://PlanetarySystem/./src/transitions/moon-enter.js","webpack://PlanetarySystem/./src/transitions/moon-leave.js","webpack://PlanetarySystem/./src/transitions/sun-click.js","webpack://PlanetarySystem/./src/index.js","webpack://PlanetarySystem/./src/transitions/transitions.js"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","className","size","$node","document","createElement","style","width","height","src","$img","label","$label","textContent","perspective","angle","a","Math","PI","cos","sin","Sun","options","this","system","sizes","sun","distance","image","scale","$image","appendChild","$items","addEventListener","emit","on","setTransform","transform","x","y","camera","MoonOrbit","normalOrbitSizes","moon","planet","opacity","orbit","index","$orbits","setOpacity","spin","object","gsap","to","repeat","ease","Power0","easeNone","onUpdate","spinStop","paused","pause","spinPlay","resume","value","timeScale","fade","kill","duration","durations","Power1","easeInOut","resize","translate","setSize","Moon","moons","length","note","speed","Planet","planets","active","moonOrbit","map","Orbit","random","Scene","minScale","maxScale","zoom","padding","scene","drag","getEvent","event","touches","changedTouches","start","end","e","clientX","clientY","sceneX","sceneY","move","render","preventDefault","passive","deltaY","delta","origin","zoomTo","pinch","getDist","w","h","hypot","getOrigin","x1","max","x2","min","y1","pinchEnd","dist","getComputedStyle","top","parseFloat","getPropertyValue","right","bottom","left","freeWidth","offsetWidth","freeHeight","offsetHeight","freeSize","sceneWidth","$scene","sceneHeight","window","pow","getBoundingClientRect","x0","y0","hovered","forEach","planetOrbitSize","activeOrbitSizes","moonOrbitSize","onComplete","target","inactive","sqrt","canvas","orbits","isActive","_","PlanetarySystem","classList","add","listeners","getOrbitSizes","maxOrbit","setCamera","minSunDist","Array","from","i","handler","push","indexOf","splice","param"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAyB,gBAAID,IAE7BD,EAAsB,gBAAIC,IAR5B,CASGK,MAAM,WACT,M,mBCTA,IAAIC,EAAsB,CCA1B,EAAwB,CAACL,EAASM,KACjC,IAAI,IAAIC,KAAOD,EACXD,EAAoBG,EAAEF,EAAYC,KAASF,EAAoBG,EAAER,EAASO,IAC5EE,OAAOC,eAAeV,EAASO,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3E,EAAwB,CAACM,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,4BCAlF,SAEI,WAAYI,EAAWC,GACnB,MAAMC,EAAQC,SAASC,cAAc,OAGrC,OAFAF,EAAMF,UAAYA,EACdC,IAAMC,EAAMG,MAAMC,MAAQJ,EAAMG,MAAME,OAASN,EAAO,MACnDC,GAGX,YAAaM,GACT,MAAMC,EAAON,SAASC,cAAc,OAEpC,OADAK,EAAKD,IAAMA,EACJC,GAGX,YAAaC,GACT,MAAMC,EAASR,SAASC,cAAc,KAEtC,OADAO,EAAOC,YAAcF,EACdC,GAGX,eAAgBV,GAAM,YAAEY,EAAW,MAAEC,IACjC,MAAMC,EAAID,EAAQE,KAAKC,GAAK,IAI5B,OAAW,GADDhB,EAAO,GAFPA,EAAO,EAAIe,KAAKE,IAAIH,GAEJd,EAAO,GAAKY,GAAeA,EAD3CZ,EAAO,EAAIe,KAAKG,IAAIJ,OCtBvB,MAAMK,EAQjB,YAAaC,GAKTC,KAAKrB,KAAOoB,EAAQpB,MAAQoB,EAAQE,OAAOF,QAAQG,MAAMC,IACzDH,KAAKR,MAAQO,EAAQP,OAAS,EAC9BQ,KAAKI,SAAWL,EAAQK,UAAY,EACpCJ,KAAKC,OAASF,EAAQE,OACtBD,KAAKK,MAAQN,EAAQM,MACrBL,KAAKM,MAAQP,EAAQO,OAAS,EAK9BN,KAAKpB,MAAQ,aAAiB,iBAAkBoB,KAAKrB,MACrDqB,KAAKO,OAAS,cAAkBP,KAAKK,OACrCL,KAAKpB,MAAM4B,YAAYR,KAAKO,QAC5BP,KAAKC,OAAOQ,OAAOD,YAAYR,KAAKpB,OAEpCoB,KAAKX,OAAS,cAAkB,kBAChCW,KAAKpB,MAAM4B,YAAYR,KAAKX,QAK5BW,KAAKpB,MAAM8B,iBAAiB,SAAS,KACjCV,KAAKC,OAAOU,KAAK,gBAGrBX,KAAKC,OAAOW,GAAG,UAAU,KACrBZ,KAAKa,kBAMTb,KAAKa,eAWT,QACI,OAAOb,KAAKI,SAAWV,KAAKE,IAAII,KAAKR,MAAQE,KAAKC,GAAK,KAG3D,QACI,OAAOK,KAAKI,SAAWV,KAAKG,IAAIG,KAAKR,MAAQE,KAAKC,GAAK,KAG3D,eACIK,KAAKpB,MAAMG,MAAM+B,UAAY,aAAad,KAAKe,EAAIf,KAAKrB,KAAO,QAAQqB,KAAKgB,EAAIhB,KAAKrB,KAAO,iBAAiBqB,KAAKC,OAAOgB,OAAOzB,mBAAmBQ,KAAKM,UCjEjJ,MAAMY,EAQjB,YAAanB,GAKTC,KAAKrB,KAAOoB,EAAQE,OAAOkB,iBAAiBC,KAC5CpB,KAAKqB,OAAStB,EAAQsB,OACtBrB,KAAKC,OAASF,EAAQE,OACtBD,KAAKR,MAAQQ,KAAKqB,OAAO7B,MACzBQ,KAAKsB,QAAU,EAKftB,KAAKpB,MAAQ,aAAiB,qBAAqBoB,KAAKqB,OAAOE,MAAMC,mBAAmBxB,KAAKqB,OAAOG,sBAAuBxB,KAAKrB,MAChIqB,KAAKC,OAAOwB,QAAQjB,YAAYR,KAAKpB,OAKrCoB,KAAK0B,aAUT,aACI1B,KAAKpB,MAAMG,MAAMuC,QAAUtB,KAAKsB,QAGpC,UACItB,KAAKpB,MAAMG,MAAMC,MAAQgB,KAAKpB,MAAMG,MAAME,OAASe,KAAKrB,KAAO,KAGnE,eACIqB,KAAKpB,MAAMG,MAAM+B,UAAY,aAAad,KAAKqB,OAAON,EAAIf,KAAKrB,KAAO,QAAQqB,KAAKqB,OAAOL,EAAIhB,KAAKrB,KAAO,QC7C3G,SAASgD,EAAMC,EAAQ7B,GAE1B6B,EAAOD,KAAOE,KAAKC,GAAGF,EAAQ,CAC1BG,QAAS,EACTC,KAAMC,OAAOC,SACbC,SAAU,IAAMP,EAAOf,kBACpBd,IAGP6B,EAAOQ,SAAW,KACTR,EAAO3B,OAAOoC,QAAQT,EAAOD,KAAKW,SAG3CV,EAAOW,SAAW,KACTX,EAAO3B,OAAOoC,OACdT,EAAOf,eADee,EAAOD,KAAKa,UAI3CZ,EAAO3B,OAAOW,GAAG,SAAS,KACtBgB,EAAOD,KAAKW,WAGhBV,EAAO3B,OAAOW,GAAG,UAAU,KACvBgB,EAAOD,KAAKa,YAGhBZ,EAAO3B,OAAOW,GAAG,aAAa6B,IAC1Bb,EAAOD,KAAKe,UAAUD,MAWvB,SAASE,EAAMf,EAAQ7B,GAE1B6B,EAAOe,MAAQf,EAAOe,KAAKC,OAE3BhB,EAAOe,KAAOd,KAAKC,GAAGF,EAAQ,CAC1BiB,SAAUjB,EAAO3B,OAAOF,QAAQ+C,UAAUH,KAC1CX,KAAMe,OAAOC,UACbb,SAAU,IAAMP,EAAOF,gBACpB3B,IAWJ,SAASkD,EAAQrB,EAAQ7B,GAE5B6B,EAAOqB,QAAUrB,EAAOqB,OAAOL,OAE/BhB,EAAOqB,OAASpB,KAAKC,GAAGF,EAAQ,CAC5BiB,SAAUjB,EAAO3B,OAAOF,QAAQ+C,UAAUI,UAC1ClB,KAAMe,OAAOC,UACbb,SAAU,KACNP,EAAOuB,UACPvB,EAAOf,mBAERd,IAWJ,SAASmD,EAAWtB,EAAQ7B,GAE/B,IAAIoC,EACAP,EAAO3B,OAAOoC,SAAQF,EAAW,IAAMP,EAAOf,gBAElDe,EAAOsB,WAAatB,EAAOsB,UAAUN,OAErChB,EAAOsB,UAAYrB,KAAKC,GAAGF,EAAQ,CAC/BiB,SAAUjB,EAAO3B,OAAOF,QAAQ+C,UAAUI,UAC1ClB,KAAMe,OAAOC,UACbb,cACGpC,IC3FI,MAAMqD,EAQjB,YAAYrD,GAKRC,KAAKwB,MAAQzB,EAAQyB,MACrBxB,KAAKqB,OAAStB,EAAQsB,OACtBrB,KAAKC,OAASF,EAAQE,OAEtBD,KAAKrB,KAAOoB,EAAQpB,MAAQoB,EAAQE,OAAOF,QAAQG,MAAMkB,KACzDpB,KAAKM,MAAQP,EAAQO,OAAS,EAC9BN,KAAKR,MAAwB,IAAhBO,EAAQyB,MAAczB,EAAQsB,OAAOgC,MAAMC,OACxDtD,KAAKI,SAAWL,EAAQE,OAAOkB,iBAAiBC,KAAO,EAEvDpB,KAAKK,MAAQN,EAAQM,MACrBL,KAAKZ,MAAQW,EAAQX,MACrBY,KAAKuD,KAAOxD,EAAQwD,KACpBvD,KAAKsB,QAAU,EAKftB,KAAKpB,MAAQ,aAAiB,mBAAmBoB,KAAKqB,OAAOE,MAAMC,mBAAmBxB,KAAKqB,OAAOG,iBAAiBxB,KAAKwB,gBAAiBxB,KAAKrB,MAC9IqB,KAAKO,OAAS,cAAkBP,KAAKK,OACrCL,KAAKX,OAAS,cAAkBW,KAAKZ,OACrCY,KAAKpB,MAAM4B,YAAYR,KAAKO,QAC5BP,KAAKpB,MAAM4B,YAAYR,KAAKX,QAC5BW,KAAKC,OAAOQ,OAAOD,YAAYR,KAAKpB,OAKpC+C,EAAK3B,KAAM,CACP6C,SAAU,EAAInD,KAAKC,GAAKK,KAAKI,SAAWJ,KAAKC,OAAOF,QAAQyD,MAC5DhE,MAAOQ,KAAKR,MAAQ,IACpB6C,QAAQ,IAMZrC,KAAKpB,MAAM8B,iBAAiB,cAAc,KAClCV,KAAKsB,QAAU,GAAGtB,KAAKC,OAAOU,KAAK,aAAcX,SAGzDA,KAAKpB,MAAM8B,iBAAiB,cAAc,KAClCV,KAAKsB,QAAU,GAAGtB,KAAKC,OAAOU,KAAK,aAAcX,SAGzDA,KAAKpB,MAAM8B,iBAAiB,SAAS,KACjCV,KAAKC,OAAOU,KAAK,YAAaX,SAGlCA,KAAKC,OAAOW,GAAG,UAAU,KACrBZ,KAAKa,kBAMTb,KAAK0B,aAUT,aACI1B,KAAKpB,MAAMG,MAAMuC,QAAUtB,KAAKsB,QAGpC,QACI,OAAOtB,KAAKqB,OAAON,EAAIf,KAAKI,SAAWV,KAAKE,IAAII,KAAKR,MAAQE,KAAKC,GAAK,KAG3E,QACI,OAAOK,KAAKqB,OAAOL,EAAIhB,KAAKI,SAAWV,KAAKG,IAAIG,KAAKR,MAAQE,KAAKC,GAAK,KAG3E,eACIK,KAAKpB,MAAMG,MAAM+B,UAAY,eAAed,KAAKe,EAAIf,KAAKrB,KAAO,QAAQqB,KAAKgB,EAAIhB,KAAKrB,KAAO,oBAAoBqB,KAAKC,OAAOgB,OAAOzB,mBAAmBQ,KAAKM,UCzFtJ,MAAMmD,EAQjB,YAAa1D,GAKTC,KAAKwB,MAAQzB,EAAQyB,MACrBxB,KAAKuB,MAAQxB,EAAQwB,MACrBvB,KAAKC,OAASF,EAAQE,OACtBD,KAAKqD,MAAQtD,EAAQsD,OAAS,GAE9BrD,KAAKrB,KAAOoB,EAAQpB,MAAQoB,EAAQE,OAAOF,QAAQG,MAAMmB,OACzDrB,KAAKM,MAAQP,EAAQO,OAAS,EAC9BN,KAAKR,MAAQO,EAAQwB,MAAM/B,MAAqB,IAAbQ,KAAKwB,MAAczB,EAAQwB,MAAMmC,QAAQJ,OAC5EtD,KAAKI,SAAWL,EAAQwB,MAAM5C,KAAO,EAErCqB,KAAKK,MAAQN,EAAQM,MACrBL,KAAKZ,MAAQW,EAAQX,MACrBY,KAAKuD,KAAOxD,EAAQwD,KAEpBvD,KAAK2D,QAAS,EAKd3D,KAAK4D,UAAY,IAAI1C,EAAU,CAC3BG,OAAQrB,KACRC,OAAQD,KAAKC,SAMjBD,KAAKqD,MAAQrD,KAAKqD,MAAMQ,KAAI,CAAC9D,EAASyB,IAC3B,IAAI4B,EAAK,IACTrD,EACHyB,QACAH,OAAQrB,KACRC,OAAQD,KAAKC,WAOrBD,KAAKpB,MAAQ,aAAiB,+BAA+BoB,KAAKwB,kBAAkBxB,KAAKuB,MAAMC,QAASxB,KAAKrB,MAC7GqB,KAAKO,OAAS,cAAkBP,KAAKK,OACrCL,KAAKX,OAAS,cAAkBW,KAAKZ,OACrCY,KAAKpB,MAAM4B,YAAYR,KAAKO,QAC5BP,KAAKpB,MAAM4B,YAAYR,KAAKX,QAC5BW,KAAKC,OAAOQ,OAAOD,YAAYR,KAAKpB,OAKpC+C,EAAK3B,KAAM,CACP6C,SAAU,EAAInD,KAAKC,GAAKK,KAAKI,SAAWJ,KAAKC,OAAOF,QAAQyD,MAC5DhE,MAAOQ,KAAKR,MAAQ,MAMxBQ,KAAKpB,MAAM8B,iBAAiB,cAAc,KACtCV,KAAKC,OAAOU,KAAK,eAAgBX,SAGrCA,KAAKpB,MAAM8B,iBAAiB,cAAc,KACtCV,KAAKC,OAAOU,KAAK,eAAgBX,SAGrCA,KAAKpB,MAAM8B,iBAAiB,SAAS,KAC7BV,KAAK2D,OAAQ3D,KAAKC,OAAOU,KAAK,cAAeX,MAC5CA,KAAKC,OAAOU,KAAK,eAAgBX,SAG1CA,KAAKC,OAAOW,GAAG,UAAU,KACrBZ,KAAKa,kBAYb,QACI,OAAOb,KAAKI,SAAWV,KAAKE,IAAII,KAAKR,MAAQE,KAAKC,GAAK,KAG3D,QACI,OAAOK,KAAKI,SAAWV,KAAKG,IAAIG,KAAKR,MAAQE,KAAKC,GAAK,KAG3D,eACIK,KAAKpB,MAAMG,MAAM+B,UAAY,eAAed,KAAKe,EAAIf,KAAKrB,KAAO,QAAQqB,KAAKgB,EAAIhB,KAAKrB,KAAO,oBAAoBqB,KAAKC,OAAOgB,OAAOzB,mBAAmBQ,KAAKM,UC3GtJ,MAAMwD,EAQjB,YAAa/D,GAKTC,KAAKwB,MAAQzB,EAAQyB,MACrBxB,KAAKrB,KAAOoB,EAAQE,OAAOkB,iBAAiBnB,KAAKwB,OACjDxB,KAAKR,MAAQO,EAAQP,OAAyB,IAAhBE,KAAKqE,SACnC/D,KAAK0D,QAAU3D,EAAQ2D,SAAW,GAClC1D,KAAKC,OAASF,EAAQE,OAKtBD,KAAKpB,MAAQ,aAAiB,qBAAqBoB,KAAKwB,wBAAyBxB,KAAKrB,MACtFqB,KAAKC,OAAOwB,QAAQjB,YAAYR,KAAKpB,OAKrCoB,KAAK0D,QAAU1D,KAAK0D,QAAQG,KAAI,CAAC9D,EAASyB,IAAU,IAAIiC,EAAO,IACxD1D,EACHyB,QACAD,MAAOvB,KACPC,OAAQD,KAAKC,WAMjBD,KAAKmD,UACLnD,KAAKa,eAUT,UACIb,KAAKpB,MAAMG,MAAMC,MAAQgB,KAAKpB,MAAMG,MAAME,OAASe,KAAKrB,KAAO,KAGnE,eACIqB,KAAKpB,MAAMG,MAAM+B,UAAY,cAAcd,KAAKrB,KAAO,SAASqB,KAAKrB,KAAO,QCrDrE,MAAMqF,EAQjB,YAAa/D,GAETD,KAAKe,EAAI,EACTf,KAAKgB,EAAI,EACThB,KAAKiE,SAAW,EAChBjE,KAAKkE,SAAW,EAChBlE,KAAKmE,KAAO,EACZnE,KAAKC,OAASA,EACdD,KAAKoE,QAAU,GCpBR,SAAUC,GAQrB,IAAIC,GAAO,EAQX,SAASC,EAAUC,GACf,OAAOA,EAAMC,SAAWD,EAAMC,QAAQ,IAAMD,EAAME,gBAAkBF,EAAME,eAAe,IAAMF,EASnG,SAASG,EAAOH,GACZ,GAAIA,EAAMC,SAAWD,EAAMC,QAAQnB,OAAS,EAAG,OAAOsB,IACtD,MAAMC,EAAIN,EAASC,GACnBF,EAAO,CACHQ,QAASD,EAAEC,QACXC,QAASF,EAAEE,QACXC,OAAQX,EAAMtD,EACdkE,OAAQZ,EAAMrD,GAItB,SAASkE,EAAMV,GACX,IAAKF,EAAM,OACX,MAAMO,EAAIN,EAASC,GACnBH,EAAMtD,EAAIuD,EAAKU,OAASH,EAAEC,QAAUR,EAAKQ,QACzCT,EAAMrD,EAAIsD,EAAKW,OAASJ,EAAEE,QAAUT,EAAKS,QACzCV,EAAMc,SACNX,EAAMY,iBAGV,SAASR,IACLN,GAAO,EASXD,EAAMpE,OAAOrB,MAAM8B,iBAAiB,YAAaiE,GACjD9F,SAAS6B,iBAAiB,YAAawE,GACvCrG,SAAS6B,iBAAiB,UAAWkE,GACrC/F,SAAS6B,iBAAiB,aAAckE,GACxCP,EAAMpE,OAAOrB,MAAM8B,iBAAiB,aAAciE,GAClD9F,SAAS6B,iBAAiB,YAAawE,EAAM,CAAEG,SAAS,IACxDxG,SAAS6B,iBAAiB,WAAYkE,GACtC/F,SAAS6B,iBAAiB,cAAekE,GDzCrCN,CAAKtE,MEtBE,SAAUqE,GAQrBA,EAAMpE,OAAOrB,MAAM8B,iBAAiB,SAAS8D,IAIzC,GAFAA,EAAMY,iBAEFZ,EAAMc,OAAS,GAAoB,IAAfjB,EAAMF,KAAY,OAC1C,GAAIK,EAAMc,OAAS,GAAoB,IAAfjB,EAAMF,KAAY,OAE1C,MAAMoB,GAASf,EAAMc,OAAS,IACxBE,EAAS,CAAEzE,EAAGyD,EAAMM,QAAS9D,EAAGwD,EAAMO,SAE5CV,EAAMoB,OAAOD,EAAQnB,EAAMF,KAAOoB,MAUtC,IAAIG,GAAQ,EAEZ,SAASC,EAASnB,GACd,MAAMoB,EAAIpB,EAAMC,QAAQ,GAAGK,QAAUN,EAAMC,QAAQ,GAAGK,QAChDe,EAAIrB,EAAMC,QAAQ,GAAGM,QAAUP,EAAMC,QAAQ,GAAGM,QACtD,OAAOrF,KAAKoG,MAAMF,EAAGC,GAGzB,SAASE,EAAWvB,GAChB,MAAMwB,EAAKtG,KAAKuG,IAAIzB,EAAMC,QAAQ,GAAGK,QAASN,EAAMC,QAAQ,GAAGK,SACzDoB,EAAKxG,KAAKyG,IAAI3B,EAAMC,QAAQ,GAAGK,QAASN,EAAMC,QAAQ,GAAGK,SACzDsB,EAAK1G,KAAKuG,IAAIzB,EAAMC,QAAQ,GAAGM,QAASP,EAAMC,QAAQ,GAAGM,SAE/D,MAAO,CACHhE,EAAGiF,GAAMA,EAAKE,GAAM,EACpBlF,EAAGoF,GAAMA,EAHF1G,KAAKyG,IAAI3B,EAAMC,QAAQ,GAAGM,QAASP,EAAMC,QAAQ,GAAGM,UAGvC,GAoB5B,SAASsB,IACLX,GAAQ,EAGZrB,EAAMpE,OAAOrB,MAAM8B,iBAAiB,cApBpC,SAAqB8D,GACjB,GAA6B,IAAzBA,EAAMC,QAAQnB,OAAc,OAAO+C,IACvCX,EAAQ,GACRA,EAAMY,KAAOX,EAAQnB,GACrBkB,EAAMvB,KAAOE,EAAMF,KACnBuB,EAAMF,OAASO,EAAUvB,MAgB7B3F,SAAS6B,iBAAiB,aAb1B,SAAoB8D,GAChB,IAAKkB,EAAO,OACZ,MACMH,GADOI,EAAQnB,GACCkB,EAAMY,MAAQ,IACpCjC,EAAMoB,OAAOM,EAAUvB,GAAQkB,EAAMvB,KAAOoB,GAC5Cf,EAAMY,mBAQwC,CAAEC,SAAS,IAC7DxG,SAAS6B,iBAAiB,WAAY2F,GACtCxH,SAAS6B,iBAAiB,cAAe2F,GF/CrClC,CAAKnE,MGvBE,SAAUqE,GAQrB,SAASpB,IAEL,MAAMlE,EAAQwH,iBAAiBlC,EAAMpE,OAAOrB,OAC5CyF,EAAMD,QAAQoC,IAAMC,WAAW1H,EAAM2H,iBAAiB,gBACtDrC,EAAMD,QAAQuC,MAAQF,WAAW1H,EAAM2H,iBAAiB,kBACxDrC,EAAMD,QAAQwC,OAASH,WAAW1H,EAAM2H,iBAAiB,mBACzDrC,EAAMD,QAAQyC,KAAOJ,WAAW1H,EAAM2H,iBAAiB,iBAEvD,MAAMI,EAAYzC,EAAMpE,OAAOrB,MAAMmI,YAAc1C,EAAMD,QAAQuC,MAAQtC,EAAMD,QAAQyC,KACjFG,EAAa3C,EAAMpE,OAAOrB,MAAMqI,aAAe5C,EAAMD,QAAQwC,OAASvC,EAAMD,QAAQoC,IACpFU,EAAWxH,KAAKyG,IAAIW,EAAWE,GAC/BG,EAAa9C,EAAMpE,OAAOmH,OAAOL,YACjCM,EAAchD,EAAMpE,OAAOmH,OAAOH,aAExC5C,EAAMF,KAAO,GACbE,EAAMJ,SAAWvE,KAAKyG,IAAIe,EAAWC,EAAYD,EAAWG,GAC5DhD,EAAMH,SAAWxE,KAAKyG,IAAIe,GAAY,EAAI7C,EAAMpE,OAAOF,QAAQG,MAAMC,IAErEkE,EAAMtD,GAAK+F,EAAYK,EAAa9C,EAAM/D,OAAS,EACnD+D,EAAMrD,GAAKgG,EAAaK,EAAchD,EAAM/D,OAAS,EACrD+D,EAAMc,SACNd,EAAMpE,OAAOU,KAAK,OAAQ0D,EAAMF,MAUpClB,IACAqE,OAAO5G,iBAAiB,SAAUuC,GAClCoB,EAAMpE,OAAOW,GAAG,SAAUqC,GHjBtB,CAAOjD,MAUX,YACI,OAAOA,KAAKiE,SAAWvE,KAAK6H,IAAIvH,KAAKkE,SAAWlE,KAAKiE,SAAUjE,KAAKmE,MASxE,OAAQqB,EAAQrB,GAEZ,MAAM,KAAE0C,EAAI,IAAEL,GAAQxG,KAAKC,OAAOrB,MAAM4I,wBAElCzG,EAAIyE,EAAOzE,EAAI8F,EAAO7G,KAAKoE,QAAQyC,KACnC7F,EAAIwE,EAAOxE,EAAIwF,EAAMxG,KAAKoE,QAAQoC,IAElCiB,GAAM1G,EAAIf,KAAKe,GAAKf,KAAKM,MACzBoH,GAAM1G,EAAIhB,KAAKgB,GAAKhB,KAAKM,MAE/B6D,EAAOzE,KAAKuG,IAAI9B,EAAM,GACtBA,EAAOzE,KAAKyG,IAAIhC,EAAM,GAEtBnE,KAAKmE,KAAOA,EACZnE,KAAKe,EAAIA,EAAI0G,EAAKzH,KAAKM,MACvBN,KAAKgB,EAAIA,EAAI0G,EAAK1H,KAAKM,MAEvBN,KAAKmF,SACLnF,KAAKC,OAAOU,KAAK,OAAQX,KAAKmE,MAQlC,SACInE,KAAKC,OAAOmH,OAAOrI,MAAM+B,UAAY,aAAad,KAAKe,QAAQf,KAAKgB,cAAchB,KAAKM,UIrEhF,SAAS,EAACe,EAAQpB,GAGzBoB,EAAOsC,SACXtC,EAAOsG,SAAU,EAKjBtG,EAAOE,MAAMmC,QAAQkE,SAAQvG,IACzBA,EAAOe,cAMXf,EAAOuC,UAAU/C,eACjB8B,EAAKtB,EAAOuC,UAAW,CACnBtC,QAAS,IAMbD,EAAOgC,MAAMuE,SAAQxG,IACjBA,EAAKmB,WACLI,EAAKvB,EAAM,CACPE,QAAS,QC3BN,SAAS,EAACD,GAEjBA,EAAOsC,SACXtC,EAAOsG,SAAU,EAKjBtG,EAAOE,MAAMmC,QAAQkE,SAAQvG,IACzBA,EAAOkB,cAMXI,EAAKtB,EAAOuC,UAAW,CACnBtC,QAAS,EACT,WACID,EAAOuC,UAAUlC,aACjBL,EAAOuC,UAAU/C,kBAOzBQ,EAAOgC,MAAMuE,SAAQxG,IACjBuB,EAAKvB,EAAM,CACPE,QAAS,EACT,aACIF,EAAKgB,kBC9BN,SAAS,EAACf,EAAQpB,GAE7BoB,EAAOsC,QAAS,EAKhB,MAAMkE,EAAkB5H,EAAO0D,OAAS1D,EAAO6H,iBAAiBzG,EAAOE,MAAMC,MAAQ,GAAKvB,EAAOkB,iBAAiBE,EAAOE,MAAMC,OACzHuG,EAAgB9H,EAAO0D,OAAS1D,EAAO6H,iBAAiB1G,KAAOnB,EAAOkB,iBAAiBC,KAK7F8B,EAAU7B,EAAQ,CACdjB,SAAUyH,EAAkB,EAC5BvH,MAAO,IAMX2C,EAAO5B,EAAOuC,UAAW,CACrBjF,KAAMoJ,IAMVpF,EAAKtB,EAAOuC,UAAW,CACnBtC,QAAS,IAMbD,EAAOgC,MAAMuE,SAAQxG,IACjB8B,EAAU9B,EAAM,CACZhB,SAAU2H,EAAe,EACzBzH,MAAO,OAOfe,EAAOgC,MAAMuE,SAAQxG,IACjBuB,EAAKvB,EAAM,CACPE,QAAS,EACT0G,WAAY,KACR5G,EAAKgB,iBCjDN,SAAS,EAACf,EAAQpB,GAE7B,MAAM4H,EAAkB5H,EAAO0D,OAAS1D,EAAO6H,iBAAiBzG,EAAOE,MAAMC,MAAQ,GAAKvB,EAAOkB,iBAAiBE,EAAOE,MAAMC,OACzHuG,EAAgB9H,EAAO0D,OAAS1D,EAAO6H,iBAAiB1G,KAAOnB,EAAOkB,iBAAiBC,KAK7F8B,EAAU7B,EAAQ,CACdjB,SAAUyH,EAAkB,IAMhCxG,EAAOuC,UAAUjF,KAAOoJ,EACxB1G,EAAOuC,UAAUT,UCbN,SAAS,EAAC8E,EAAQhI,GAG7B,MAAMiI,GAAYjI,EAAO0D,OAKzBuE,GAAYhF,EAAUjD,EAAOE,IAAK,CAC9BC,SAAUV,KAAKyI,KAAK,IAAMlI,EAAOF,QAAQG,MAAMkI,OAASnI,EAAOE,IAAIxB,MAAQ,EAC3E,WACIsB,EAAOE,IAAIU,kBAInBZ,EAAO0D,OAASsE,EAChBhI,EAAOoI,OAAOT,SAAQrG,IAKlB0B,EAAO1B,EAAO,CACV5C,KAAMsB,EAAO6H,iBAAiBvG,EAAMC,MAAQ,KAMhDD,EAAMmC,QAAQkE,SAAQvG,IACdA,IAAW4G,EChCZ,SAAU5G,EAAQpB,GAKxBoB,EAAOsG,SACR1H,EAAOU,KAAK,eAAgBU,GAGhCA,EAAOsC,QAAS,EAChBtC,EAAOsG,SAAU,EAKjBtG,EAAOE,MAAMmC,QAAQkE,SAAQvG,IACzBA,EAAOkB,cAMXW,EAAU7B,EAAQ,CACdjB,SAAU,EACVE,MAAOL,EAAOF,QAAQG,MAAMC,IAAMkB,EAAO1C,OAM7CsE,EAAO5B,EAAOuC,UAAW,CACrBjF,KAAMsB,EAAO6H,iBAAiB,KAMlCzG,EAAOgC,MAAMuE,SAAQxG,IACjB8B,EAAU9B,EAAM,CACZhB,SAAUH,EAAO6H,iBAAiB,GAAK,EACvCxH,MAAOL,EAAOF,QAAQG,MAAMmB,OAASD,EAAKzC,UDPtC,CAAe0C,EAAQpB,GAGnBoB,EAAOsC,OAAQ,EAAiBtC,EAAQpB,GACnCiI,GAAU,EAAa7G,EAAQpB,SErCzC,SAAS,EAACmB,GAKjBA,EAAKC,OAAO6B,WAAa9B,EAAKC,OAAO6B,UAAUoF,aAQ/ClH,EAAKC,OAAOsC,OAKZvC,EAAKC,OAAOgC,MAAMuE,SAAQxG,IACtBA,EAAKgB,eAeThB,EAAKC,OAAOE,MAAMmC,QAAQkE,SAAQvG,IAC9BA,EAAOe,cAMXhB,EAAKC,OAAOuC,UAAU/C,eACtB8B,EAAKvB,EAAKC,OAAOuC,UAAW,CACxBtC,QAAS,IAMbF,EAAKC,OAAOgC,MAAMuE,SAAQxG,IACtBA,EAAKgB,WACLO,EAAKvB,EAAM,CACPE,QAAS,SCpDV,SAAS,EAACF,GAKjBA,EAAKC,OAAO6B,WAAa9B,EAAKC,OAAO6B,UAAUoF,aAQ/ClH,EAAKC,OAAOsC,OAIZvC,EAAKC,OAAOgC,MAAMuE,SAAQxG,IACtBA,EAAKmB,eAgBTnB,EAAKC,OAAOE,MAAMmC,QAAQkE,SAAQvG,IAC9BA,EAAOkB,cAMXI,EAAKvB,EAAKC,OAAOuC,UAAW,CACxBtC,QAAS,EACT,WACIF,EAAKC,OAAOuC,UAAUlC,aACtBN,EAAKC,OAAOuC,UAAU/C,kBAO9BO,EAAKC,OAAOgC,MAAMuE,SAAQxG,IACtBuB,EAAKvB,EAAM,CACPE,QAAS,EACT,UACIF,EAAKmB,YAET,aACInB,EAAKgB,mBCxDV,SAAS,EAACmG,EAAGtI,GAKxBiD,EAAUjD,EAAOE,IAAK,CAClBC,SAAU,EACV,WACIH,EAAOE,IAAIU,kBAInBZ,EAAO0D,QAAS,EAChB1D,EAAOoI,OAAOT,SAAQrG,IAKlB0B,EAAO1B,EAAO,CACV5C,KAAMsB,EAAOkB,iBAAiBI,EAAMC,SAMxCD,EAAMmC,QAAQkE,SAAQvG,IACdA,EAAOsC,OAAQ,EAAiBtC,EAAQpB,GACvC,EAAaoB,EAAQpB,SCxBvB,MAAMuI,EAQjB,YAAa5J,EAAOmB,GCTT,IAAUE,EDWjBD,KAAKD,QAAUA,EAKfC,KAAKpB,MAAQA,EACboB,KAAKpB,MAAM6J,UAAUC,IAAI,aACzB1I,KAAKoH,OAAS,aAAiB,YAC/BpH,KAAKyB,QAAU,aAAiB,+BAChCzB,KAAKS,OAAS,aAAiB,8BAC/BT,KAAKoH,OAAO5G,YAAYR,KAAKyB,SAC7BzB,KAAKoH,OAAO5G,YAAYR,KAAKS,QAC7BT,KAAKpB,MAAM4B,YAAYR,KAAKoH,QAK5BpH,KAAK2I,UAAY,GACjB3I,KAAKmB,iBAAmBnB,KAAK4I,cAAc5I,KAAK6I,UAChD7I,KAAK8H,iBAAmB9H,KAAK4I,cAAc5I,KAAK6I,SAAW,GAC3D7I,KAAK2D,OAAS,KACd3D,KAAKqC,QAAS,EACdrC,KAAK0C,UAAY,EACjB1C,KAAK8I,UAAU/I,EAAQkB,QAKvBjB,KAAKqE,MAAQ,IAAIL,EAAMhE,MAKvBA,KAAKG,IAAM,IAAIL,EAAI,IACZC,EAAQI,IACXF,OAAQD,OAMZA,KAAKqI,OAAStI,EAAQsI,OAAOxE,KAAI,CAAC9D,EAASyB,IAAU,IAAI,EAAY,IAC9DzB,EACHyB,QACAvB,OAAQD,UCvDKC,ED6DLD,MC5DTY,GAAG,eAAgB,GAC1BX,EAAOW,GAAG,eAAgB,GAC1BX,EAAOW,GAAG,aAAc,GACxBX,EAAOW,GAAG,aAAc,GACxBX,EAAOW,GAAG,eAAgB,GAC1BX,EAAOW,GAAG,YAAa,GDkEvB,cAAe0C,GACX,MAAM,OAAE8E,EAAM,IAAEjI,EAAG,KAAEiB,GAASpB,KAAKD,QAAQG,MACrC6I,GAAcX,EAASjI,IAAiB,EAATmD,EAAa,GAClD,IAAI+E,EAASW,MAAMC,KAAK,CAAE3F,WAAU,CAACvC,EAAGmI,IAAM/I,GAAO+I,EAAI,GAAKH,EAAa,IAE3E,OADAV,EAAOjH,KAAO2H,EAAa3H,EACpBiH,EAGX,eACI,OAAOrI,KAAKD,QAAQsI,OAAO/E,OAS/B,UAAWrC,GACP,MAAMH,EAAYG,EAAOzB,MAAQ,eAAeyB,EAAO1B,0CAA0C0B,EAAOzB,6BAA+B,GACvIQ,KAAKyB,QAAQ1C,MAAM+B,UAAYd,KAAKS,OAAO1B,MAAM+B,UAAYA,EAC7Dd,KAAKoH,OAAOrI,MAAMC,MAAQgB,KAAKD,QAAQG,MAAMkI,OAAS,KACtDpI,KAAKoH,OAAOrI,MAAME,OAAS,iBAAqBe,KAAKD,QAAQG,MAAMkI,OAAQnH,GAAU,KACrFjB,KAAKiB,OAASA,EACdjB,KAAKW,KAAK,SAAUM,GASxB,GAAIuD,EAAO2E,GACPnJ,KAAK2I,UAAUnE,GAASxE,KAAK2I,UAAUnE,IAAU,GACjDxE,KAAK2I,UAAUnE,GAAO4E,KAAKD,GAG/B,IAAK3E,EAAO2E,GACR,IAAKnJ,KAAK2I,UAAUnE,GAAQ,OAC5B,MAAMhD,EAAQxB,KAAK2I,UAAUnE,GAAO6E,QAAQF,GACxC3H,GAAS,GAAGxB,KAAK2I,UAAUnE,GAAO8E,OAAO9H,EAAO,GAGxD,KAAMgD,EAAO+E,GACJvJ,KAAK2I,UAAUnE,IACpBxE,KAAK2I,UAAUnE,GAAOoD,SAAQuB,GAAWA,EAAQI,EAAOvJ,QAS5D,SACIA,KAAKqC,QAAS,EACdrC,KAAKW,KAAK,UAGd,QACIX,KAAKqC,QAAS,EACdrC,KAAKW,KAAK,SAGd,aAAc+B,GACV1C,KAAK0C,UAAYA,EACjB1C,KAAKW,KAAK,YAAaX,KAAK0C,Y","file":"planetary-system.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PlanetarySystem\"] = factory();\n\telse\n\t\troot[\"PlanetarySystem\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default {\n\n    createNode (className, size) {\n        const $node = document.createElement('div');\n        $node.className = className;\n        if (size) $node.style.width = $node.style.height = size + 'px';\n        return $node;\n    },\n\n    createImage (src) {\n        const $img = document.createElement('img');\n        $img.src = src;\n        return $img;\n    },\n\n    createLabel (label) {\n        const $label = document.createElement('p');\n        $label.textContent = label;\n        return $label;\n    },\n\n    getSceneHeight (size, { perspective, angle }) {\n        const a = angle * Math.PI / 180;\n        const y = size / 2 * Math.cos(a); // size/2 - sun in the center\n        const z = size / 2 * Math.sin(a);\n        const h = size / 2 + (y - size / 2) * perspective / (perspective + z);\n        return h * 2;\n    }\n\n}","import Utils from '@/helpers/utils'\n\nexport default class Sun {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (options) {\n\n\n        // options\n\n        this.size = options.size || options.system.options.sizes.sun;\n        this.angle = options.angle || 0;\n        this.distance = options.distance || 0;\n        this.system = options.system;\n        this.image = options.image;\n        this.scale = options.scale || 1;\n\n\n        // create nodes\n\n        this.$node = Utils.createNode('ps-item ps-sun', this.size);\n        this.$image = Utils.createImage(this.image);\n        this.$node.appendChild(this.$image);\n        this.system.$items.appendChild(this.$node);\n\n        this.$label = Utils.createLabel('Click to reset');\n        this.$node.appendChild(this.$label);\n\n\n        // listeners\n\n        this.$node.addEventListener('click', () => {\n            this.system.emit('sun:click');\n        })\n\n        this.system.on('camera', () => {\n            this.setTransform()\n        });\n\n\n        // render\n\n        this.setTransform();\n\n\n    }\n\n\n\n    // ----------------------\n    // Style setters\n    // ----------------------\n\n    get x () {\n        return this.distance * Math.cos(this.angle * Math.PI / 180);\n    }\n\n    get y () {\n        return this.distance * Math.sin(this.angle * Math.PI / 180)\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate(${this.x - this.size / 2}px, ${this.y - this.size / 2}px) rotateX(-${this.system.camera.angle}deg) scale(${this.scale})`\n    }\n\n\n\n}","import Utils from '@/helpers/utils'\n\nexport default class MoonOrbit {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (options) {\n\n\n        // options\n\n        this.size = options.system.normalOrbitSizes.moon;\n        this.planet = options.planet;\n        this.system = options.system;\n        this.angle = this.planet.angle;\n        this.opacity = 0;\n\n\n        // create node\n\n        this.$node = Utils.createNode(`ps-orbit ps-orbit-${this.planet.orbit.index} ps-planet-${this.planet.index} ps-moon-orbit`, this.size);\n        this.system.$orbits.appendChild(this.$node);\n\n\n        // render\n\n        this.setOpacity();\n\n    }\n\n\n\n    // ----------------------\n    // Style setters\n    // ----------------------\n\n    setOpacity () {\n        this.$node.style.opacity = this.opacity;\n    }\n\n    setSize () {\n        this.$node.style.width = this.$node.style.height = this.size + 'px';\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate(${this.planet.x - this.size / 2}px, ${this.planet.y - this.size / 2}px)`\n    }\n\n}","// ----------------------\n// Spin\n// ----------------------\n\nexport function spin (object, options) {\n\n    object.spin = gsap.to(object, {\n        repeat: -1,\n        ease: Power0.easeNone,\n        onUpdate: () => object.setTransform(),\n        ...options\n    });\n\n    object.spinStop = () => {\n        if (!object.system.paused) object.spin.pause();\n    }\n\n    object.spinPlay = () => {\n        if (!object.system.paused) object.spin.resume();\n        else object.setTransform();\n    }\n\n    object.system.on('pause', () => {\n        object.spin.pause();\n    })\n\n    object.system.on('resume', () => {\n        object.spin.resume();\n    })\n\n    object.system.on('timescale', value => {\n        object.spin.timeScale(value);\n    })\n\n}\n\n\n\n// ----------------------\n// Fade\n// ----------------------\n\nexport function fade (object, options) {\n\n    object.fade && object.fade.kill();\n\n    object.fade = gsap.to(object, {\n        duration: object.system.options.durations.fade,\n        ease: Power1.easeInOut,\n        onUpdate: () => object.setOpacity(),\n        ...options\n    })\n\n}\n\n\n\n// ----------------------\n// Resize\n// ----------------------\n\nexport function resize (object, options) {\n\n    object.resize && object.resize.kill();\n\n    object.resize = gsap.to(object, {\n        duration: object.system.options.durations.translate,\n        ease: Power1.easeInOut,\n        onUpdate: () => {\n            object.setSize();\n            object.setTransform();\n        },\n        ...options\n    })\n\n}\n\n\n\n// ----------------------\n// Translate\n// ----------------------\n\nexport function translate (object, options) {\n\n    let onUpdate;\n    if (object.system.paused) onUpdate = () => object.setTransform();\n\n    object.translate && object.translate.kill();\n\n    object.translate = gsap.to(object, {\n        duration: object.system.options.durations.translate,\n        ease: Power1.easeInOut,\n        onUpdate,\n        ...options,\n    })\n\n}","import Utils from '@/helpers/utils'\nimport { spin } from '@/helpers/animations'\n\nexport default class Moon {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor(options) {\n\n\n        // options\n\n        this.index = options.index;\n        this.planet = options.planet;\n        this.system = options.system;\n\n        this.size = options.size || options.system.options.sizes.moon;\n        this.scale = options.scale || 1;\n        this.angle = options.index * 360 / options.planet.moons.length;\n        this.distance = options.system.normalOrbitSizes.moon / 2;\n\n        this.image = options.image;\n        this.label = options.label;\n        this.note = options.note;\n        this.opacity = 0;\n\n\n        // create nodes\n\n        this.$node = Utils.createNode(`ps-item ps-ring-${this.planet.orbit.index} ps-planet-${this.planet.index} ps-moon-${this.index} ps-moon`, this.size);\n        this.$image = Utils.createImage(this.image);\n        this.$label = Utils.createLabel(this.label);\n        this.$node.appendChild(this.$image);\n        this.$node.appendChild(this.$label);\n        this.system.$items.appendChild(this.$node);\n\n\n        // spin animation\n\n        spin(this, {\n            duration: 2 * Math.PI * this.distance * this.system.options.speed,\n            angle: this.angle + 360,\n            paused: true\n        })\n\n\n        // listeners\n\n        this.$node.addEventListener('mouseenter', () => {\n            if (this.opacity > 0) this.system.emit('moon:enter', this);\n        })\n\n        this.$node.addEventListener('mouseleave', () => {\n            if (this.opacity > 0) this.system.emit('moon:leave', this);\n        })\n\n        this.$node.addEventListener('click', () => {\n            this.system.emit('moon:note', this);\n        })\n\n        this.system.on('camera', () => {\n            this.setTransform()\n        });\n\n\n        // render\n\n        this.setOpacity();\n\n    }\n\n\n\n    // ----------------------\n    // Styles setters\n    // ----------------------\n    //\n    setOpacity () {\n        this.$node.style.opacity = this.opacity;\n    }\n\n    get x () {\n        return this.planet.x + this.distance * Math.cos(this.angle * Math.PI / 180);\n    }\n\n    get y () {\n        return this.planet.y + this.distance * Math.sin(this.angle * Math.PI / 180)\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate3d(${this.x - this.size / 2}px, ${this.y - this.size / 2}px, 0) rotateX(-${this.system.camera.angle}deg) scale(${this.scale})`\n    }\n\n}","import MoonOrbit from '@/objects/moon-orbit'\nimport Moon from '@/objects/moon'\nimport Utils from '@/helpers/utils'\nimport { spin } from '@/helpers/animations'\n\nexport default class Planet {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (options) {\n\n\n        // options\n\n        this.index = options.index;\n        this.orbit = options.orbit;\n        this.system = options.system;\n        this.moons = options.moons || [];\n\n        this.size = options.size || options.system.options.sizes.planet;\n        this.scale = options.scale || 1;\n        this.angle = options.orbit.angle + this.index * 360 / options.orbit.planets.length;\n        this.distance = options.orbit.size / 2;\n\n        this.image = options.image;\n        this.label = options.label;\n        this.note = options.note;\n\n        this.active = false;\n\n\n        // create moon orbit\n\n        this.moonOrbit = new MoonOrbit({\n            planet: this,\n            system: this.system\n        })\n\n\n        // create moons\n\n        this.moons = this.moons.map((options, index) => {\n            return new Moon({\n                ...options,\n                index,\n                planet: this,\n                system: this.system\n            })\n        })\n\n\n        // create nodes\n\n        this.$node = Utils.createNode(`ps-item ps-planet ps-planet-${this.index} ps-orbit-${this.orbit.index}`, this.size);\n        this.$image = Utils.createImage(this.image);\n        this.$label = Utils.createLabel(this.label);\n        this.$node.appendChild(this.$image);\n        this.$node.appendChild(this.$label);\n        this.system.$items.appendChild(this.$node);\n\n\n        // spin animation\n\n        spin(this, {\n            duration: 2 * Math.PI * this.distance * this.system.options.speed,\n            angle: this.angle + 360\n        })\n\n\n        // listeners\n\n        this.$node.addEventListener('mouseenter', () => {\n            this.system.emit('planet:enter', this);\n        })\n\n        this.$node.addEventListener('mouseleave', () => {\n            this.system.emit('planet:leave', this);\n        })\n\n        this.$node.addEventListener('click', () => {\n            if (this.active) this.system.emit('planet:note', this);\n            else this.system.emit('planet:click', this);\n        })\n\n        this.system.on('camera', () => {\n            this.setTransform()\n        });\n\n\n    }\n\n\n\n    // ----------------------\n    // Styles setters\n    // ----------------------\n\n    get x () {\n        return this.distance * Math.cos(this.angle * Math.PI / 180);\n    }\n\n    get y () {\n        return this.distance * Math.sin(this.angle * Math.PI / 180)\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate3d(${this.x - this.size / 2}px, ${this.y - this.size / 2}px, 0) rotateX(-${this.system.camera.angle}deg) scale(${this.scale})`\n    }\n\n\n}\n\n","import Planet from '@/objects/planet'\nimport Utils from '@/helpers/utils'\n\nexport default class Orbit {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (options) {\n\n\n        // options\n\n        this.index = options.index;\n        this.size = options.system.normalOrbitSizes[this.index];\n        this.angle = options.angle || Math.random() * 360;\n        this.planets = options.planets || [];\n        this.system = options.system;\n\n\n        // create node\n\n        this.$node = Utils.createNode(`ps-orbit ps-orbit-${this.index} ps-planet-orbit`, this.size);\n        this.system.$orbits.appendChild(this.$node);\n\n\n        // create planets\n\n        this.planets = this.planets.map((options, index) => new Planet({\n            ...options,\n            index,\n            orbit: this,\n            system: this.system\n        }))\n\n\n        // render\n\n        this.setSize();\n        this.setTransform();\n\n    }\n\n\n\n    // ----------------------\n    // Style setters\n    // ----------------------\n\n    setSize () {\n        this.$node.style.width = this.$node.style.height = this.size + 'px';\n    }\n\n    setTransform () {\n        this.$node.style.transform = `translate(-${this.size / 2}px, -${this.size / 2}px)`\n    }\n\n\n}","import drag from './drag'\nimport zoom from './zoom'\nimport resize from './resize'\n\nexport default class Scene {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor (system) {\n\n        this.x = 0;\n        this.y = 0;\n        this.minScale = 0;\n        this.maxScale = 0;\n        this.zoom = 0;\n        this.system = system;\n        this.padding = {};\n\n        drag(this);\n        zoom(this);\n        resize(this);\n\n    }\n\n\n\n    // ----------------------\n    // Getters\n    // ----------------------\n\n    get scale () {\n        return this.minScale * Math.pow(this.maxScale / this.minScale, this.zoom);\n    }\n\n\n\n    // ----------------------\n    // Zoom into point\n    // ----------------------\n\n    zoomTo (origin, zoom) {\n\n        const { left, top } = this.system.$node.getBoundingClientRect();\n\n        const x = origin.x - left - this.padding.left;\n        const y = origin.y - top - this.padding.top;\n\n        const x0 = (x - this.x) / this.scale;\n        const y0 = (y - this.y) / this.scale;\n\n        zoom = Math.max(zoom, 0);\n        zoom = Math.min(zoom, 1);\n\n        this.zoom = zoom;\n        this.x = x - x0 * this.scale;\n        this.y = y - y0 * this.scale;\n\n        this.render();\n        this.system.emit('zoom', this.zoom)\n    }\n\n\n    // ----------------------\n    // Methods\n    // ----------------------\n\n    render () {\n        this.system.$scene.style.transform = `translate(${this.x}px, ${this.y}px) scale(${this.scale})`;\n    }\n\n}","export default function (scene) {\n\n\n\n    // ----------------------\n    // Variables\n    // ----------------------\n\n    let drag = false;\n\n\n\n    // ----------------------\n    // Helpers\n    // ----------------------\n\n    function getEvent (event) {\n        return event.touches && event.touches[0] || event.changedTouches && event.changedTouches[0] || event;\n    }\n\n\n\n    // ----------------------\n    // Handlers\n    // ----------------------\n\n    function start (event) {\n        if (event.touches && event.touches.length > 1) return end();\n        const e = getEvent(event);\n        drag = {\n            clientX: e.clientX,\n            clientY: e.clientY,\n            sceneX: scene.x,\n            sceneY: scene.y\n        }\n    }\n\n    function move (event) {\n        if (!drag) return;\n        const e = getEvent(event);\n        scene.x = drag.sceneX + e.clientX - drag.clientX;\n        scene.y = drag.sceneY + e.clientY - drag.clientY;\n        scene.render();\n        event.preventDefault();\n    }\n\n    function end () {\n        drag = false;\n    }\n\n\n\n    // ----------------------\n    // Listeners\n    // ----------------------\n\n    scene.system.$node.addEventListener('mousedown', start);\n    document.addEventListener('mousemove', move);\n    document.addEventListener('mouseup', end);\n    document.addEventListener('mouseleave', end);\n    scene.system.$node.addEventListener('touchstart', start);\n    document.addEventListener('touchmove', move, { passive: false });\n    document.addEventListener('touchend', end);\n    document.addEventListener('touchcancel', end);\n\n\n}","export default function (scene) {\n\n\n\n    // ----------------------\n    // Wheel\n    // ----------------------\n\n    scene.system.$node.addEventListener('wheel', event => {\n\n        event.preventDefault();\n\n        if (event.deltaY > 0 && scene.zoom === 0) return;\n        if (event.deltaY < 0 && scene.zoom === 1) return;\n\n        const delta = -event.deltaY / 1000;\n        const origin = { x: event.clientX, y: event.clientY };\n\n        scene.zoomTo(origin, scene.zoom + delta);\n\n    })\n\n\n\n    // ----------------------\n    // Pinch\n    // ----------------------\n\n    let pinch = false;\n\n    function getDist (event) {\n        const w = event.touches[0].clientX - event.touches[1].clientX;\n        const h = event.touches[0].clientY - event.touches[1].clientY;\n        return Math.hypot(w, h);\n    }\n\n    function getOrigin (event) {\n        const x1 = Math.max(event.touches[0].clientX, event.touches[1].clientX);\n        const x2 = Math.min(event.touches[0].clientX, event.touches[1].clientX);\n        const y1 = Math.max(event.touches[0].clientY, event.touches[1].clientY);\n        const y2 = Math.min(event.touches[0].clientY, event.touches[1].clientY);\n        return {\n            x: x1 - (x1 - x2) / 2,\n            y: y1 - (y1 - y2) / 2,\n        }\n    }\n\n    function pinchStart (event) {\n        if (event.touches.length !== 2) return pinchEnd();\n        pinch = {};\n        pinch.dist = getDist(event);\n        pinch.zoom = scene.zoom;\n        pinch.origin = getOrigin(event);\n    }\n\n    function pinchMove (event) {\n        if (!pinch) return;\n        const dist = getDist(event);\n        const delta = (dist - pinch.dist) / 1000;\n        scene.zoomTo(getOrigin(event), pinch.zoom + delta);\n        event.preventDefault();\n    }\n\n    function pinchEnd () {\n        pinch = false;\n    }\n\n    scene.system.$node.addEventListener('touchstart', pinchStart);\n    document.addEventListener('touchmove', pinchMove, { passive: false });\n    document.addEventListener('touchend', pinchEnd);\n    document.addEventListener('touchcancel', pinchEnd);\n\n\n\n}","export default function (scene) {\n\n\n\n    // ----------------------\n    // Handler\n    // ----------------------\n\n    function resize () {\n\n        const style = getComputedStyle(scene.system.$node);\n        scene.padding.top = parseFloat(style.getPropertyValue('padding-top'));\n        scene.padding.right = parseFloat(style.getPropertyValue('padding-right'));\n        scene.padding.bottom = parseFloat(style.getPropertyValue('padding-bottom'));\n        scene.padding.left = parseFloat(style.getPropertyValue('padding-left'));\n\n        const freeWidth = scene.system.$node.offsetWidth - scene.padding.right - scene.padding.left;\n        const freeHeight = scene.system.$node.offsetHeight - scene.padding.bottom - scene.padding.top;\n        const freeSize = Math.min(freeWidth, freeHeight)\n        const sceneWidth = scene.system.$scene.offsetWidth;\n        const sceneHeight = scene.system.$scene.offsetHeight;\n\n        scene.zoom = 0.4;\n        scene.minScale = Math.min(freeSize / sceneWidth, freeSize / sceneHeight);\n        scene.maxScale = Math.min(freeSize) / 2 / scene.system.options.sizes.sun;\n\n        scene.x = (freeWidth - sceneWidth * scene.scale) / 2;\n        scene.y = (freeHeight - sceneHeight * scene.scale) / 2;\n        scene.render();\n        scene.system.emit('zoom', scene.zoom);\n\n    }\n\n\n\n    // ----------------------\n    // Listener\n    // ----------------------\n\n    resize();\n    window.addEventListener('resize', resize);\n    scene.system.on('camera', resize);\n\n\n}","import { fade } from '@/helpers/animations'\n\nexport default function (planet, system) {\n\n\n    if (planet.active) return;\n    planet.hovered = true;\n\n\n    // pause orbit planets spinning\n\n    planet.orbit.planets.forEach(planet => {\n        planet.spinStop();\n    });\n\n\n    // show moon orbit\n\n    planet.moonOrbit.setTransform();\n    fade(planet.moonOrbit, {\n        opacity: 1\n    });\n\n\n    // show moons\n\n    planet.moons.forEach(moon => {\n        moon.spinPlay();\n        fade(moon, {\n            opacity: 1\n        });\n    });\n\n\n}","import { fade } from '@/helpers/animations'\n\nexport default function (planet) {\n\n    if (planet.active) return;\n    planet.hovered = false;\n\n\n    // resume orbit planets spinning\n\n    planet.orbit.planets.forEach(planet => {\n        planet.spinPlay();\n    });\n\n\n    // hide moon orbit\n\n    fade(planet.moonOrbit, {\n        opacity: 0 ,\n        onUpdate () {\n            planet.moonOrbit.setOpacity();\n            planet.moonOrbit.setTransform();\n        }\n    });\n\n\n    // hide moons\n\n    planet.moons.forEach(moon => {\n        fade(moon, {\n            opacity: 0,\n            onComplete () {\n                moon.spinStop()\n            }\n        });\n    });\n\n}","import { fade, resize, translate } from '@/helpers/animations'\n\nexport default function (planet, system) {\n\n    planet.active = false;\n\n\n    // orbit sizes\n\n    const planetOrbitSize = system.active ? system.activeOrbitSizes[planet.orbit.index + 1] : system.normalOrbitSizes[planet.orbit.index];\n    const moonOrbitSize = system.active ? system.activeOrbitSizes.moon : system.normalOrbitSizes.moon;\n\n\n    // move planet from center to its orbit\n\n    translate(planet, {\n        distance: planetOrbitSize / 2,\n        scale: 1\n    });\n\n\n    // resize moon orbit\n\n    resize(planet.moonOrbit, {\n        size: moonOrbitSize\n    })\n\n\n    // hide moon orbit\n\n    fade(planet.moonOrbit, {\n        opacity: 0\n    })\n\n\n    // move moons to its orbit\n\n    planet.moons.forEach(moon => {\n        translate(moon, {\n            distance: moonOrbitSize/ 2,\n            scale: 1\n        });\n    })\n\n\n    // hide moons\n\n    planet.moons.forEach(moon => {\n        fade(moon, {\n            opacity: 0,\n            onComplete: () => {\n                moon.spinStop()\n            }\n        })\n    })\n\n\n}","import { translate } from '@/helpers/animations'\n\nexport default function (planet, system) {\n\n    const planetOrbitSize = system.active ? system.activeOrbitSizes[planet.orbit.index + 1] : system.normalOrbitSizes[planet.orbit.index];\n    const moonOrbitSize = system.active ? system.activeOrbitSizes.moon : system.normalOrbitSizes.moon;\n\n\n    // move planet to the orbit\n\n    translate(planet, {\n        distance: planetOrbitSize / 2\n    })\n\n\n    // change moon orbit size\n\n    planet.moonOrbit.size = moonOrbitSize;\n    planet.moonOrbit.setSize();\n\n\n}","import { resize, translate } from '@/helpers/animations'\nimport activatePlanet from './planet-activate'\nimport deactivatePlanet from './planet-deactivate'\nimport updatePlanet from './planet-update'\n\nexport default function (target, system) {\n\n\n    const inactive = !system.active;\n\n\n    // move sun if not active\n\n    inactive && translate(system.sun, {\n        distance: Math.sqrt(2) * (system.options.sizes.canvas - system.sun.size) / 2,\n        onUpdate() {\n            system.sun.setTransform()\n        }\n    })\n\n    system.active = target;\n    system.orbits.forEach(orbit => {\n\n\n        // resize orbit\n\n        resize(orbit, {\n            size: system.activeOrbitSizes[orbit.index + 1]\n        })\n\n\n        // update planets\n\n        orbit.planets.forEach(planet => {\n            if (planet === target) {\n                activatePlanet(planet, system);\n            }\n            else {\n                if (planet.active) deactivatePlanet(planet, system);\n                else if (inactive) updatePlanet(planet, system);\n            }\n        })\n    })\n\n\n}","import { resize, translate } from '@/helpers/animations'\n\nexport default function (planet, system) {\n\n\n    // emit enter if not hovered\n\n    if (!planet.hovered) {\n        system.emit('planet:enter', planet);\n    }\n\n    planet.active = true;\n    planet.hovered = false;\n\n\n    // resume orbit planets spinning\n\n    planet.orbit.planets.forEach(planet => {\n        planet.spinPlay()\n    });\n\n\n    // move planet to the center\n\n    translate(planet, {\n        distance: 0,\n        scale: system.options.sizes.sun / planet.size\n    });\n\n\n    // resize moon orbit\n\n    resize(planet.moonOrbit, {\n        size: system.activeOrbitSizes[0]\n    })\n\n\n    // move moons to the new orbit\n\n    planet.moons.forEach(moon => {\n        translate(moon, {\n            distance: system.activeOrbitSizes[0] / 2,\n            scale: system.options.sizes.planet / moon.size\n        });\n    })\n\n}","import { fade } from '@/helpers/animations'\n\nexport default function (moon) {\n\n\n    // do nothing while translating\n\n    if (moon.planet.translate && moon.planet.translate.isActive()) return;\n\n\n\n    // ----------------------\n    // Active planet\n    // ----------------------\n\n    if (moon.planet.active) {\n\n\n        // pause planet moons spinning\n\n        moon.planet.moons.forEach(moon => {\n            moon.spinStop();\n        });\n\n    }\n\n\n\n    // ----------------------\n    // Inactive planet\n    // ----------------------\n\n    else {\n\n        // pause orbit planets spinning\n\n        moon.planet.orbit.planets.forEach(planet => {\n            planet.spinStop();\n        });\n\n\n        // show moon orbit\n\n        moon.planet.moonOrbit.setTransform();\n        fade(moon.planet.moonOrbit, {\n            opacity: 1\n        });\n\n\n        // show moons\n\n        moon.planet.moons.forEach(moon => {\n            moon.spinStop();\n            fade(moon, {\n                opacity: 1\n            });\n        });\n\n    }\n\n}","import { fade } from '@/helpers/animations'\n\nexport default function (moon) {\n\n\n    // do nothing while translating\n\n    if (moon.planet.translate && moon.planet.translate.isActive()) return;\n\n\n\n    // ----------------------\n    // Active planet\n    // ----------------------\n\n    if (moon.planet.active) {\n\n        // resume planet moons spinning\n\n        moon.planet.moons.forEach(moon => {\n            moon.spinPlay();\n        });\n\n    }\n\n\n\n    // ----------------------\n    // Inctive planet\n    // ----------------------\n\n    else {\n\n\n        // resume orbit planets spinning\n\n        moon.planet.orbit.planets.forEach(planet => {\n            planet.spinPlay();\n        });\n\n\n        // hide moon orbit\n\n        fade(moon.planet.moonOrbit, {\n            opacity: 0 ,\n            onUpdate () {\n                moon.planet.moonOrbit.setOpacity();\n                moon.planet.moonOrbit.setTransform();\n            }\n        });\n\n\n        // hide moons\n\n        moon.planet.moons.forEach(moon => {\n            fade(moon, {\n                opacity: 0,\n                onStart () {\n                    moon.spinPlay()\n                },\n                onComplete () {\n                    moon.spinStop()\n                }\n            });\n        });\n\n\n    }\n\n}","import { resize, translate } from '@/helpers/animations'\nimport deactivatePlanet from './planet-deactivate'\nimport updatePlanet from './planet-update'\n\n\nexport default function (_, system) {\n\n\n    // move sun back to the center\n\n    translate(system.sun, {\n        distance: 0,\n        onUpdate () {\n            system.sun.setTransform()\n        }\n    })\n\n    system.active = false;\n    system.orbits.forEach(orbit => {\n\n\n        // resize orbit\n\n        resize(orbit, {\n            size: system.normalOrbitSizes[orbit.index]\n        })\n\n\n        // update planets\n\n        orbit.planets.forEach(planet => {\n            if (planet.active) deactivatePlanet(planet, system);\n            else updatePlanet(planet, system);\n        })\n    })\n\n}","import './index.css'\nimport Utils from '@/helpers/utils'\nimport Sun from '@/objects/sun'\nimport PlanetOrbit from '@/objects/planet-orbit'\nimport Scene from '@/scene/scene'\nimport transitions from '@/transitions/transitions'\n\n\nexport default class PlanetarySystem {\n\n\n\n    // ----------------------\n    // Constructor\n    // ----------------------\n\n    constructor ($node, options) {\n\n        this.options = options;\n\n\n        // create nodes\n\n        this.$node = $node;\n        this.$node.classList.add('ps-system');\n        this.$scene = Utils.createNode('ps-scene');\n        this.$orbits = Utils.createNode('ps-canvas ps-canvas--orbits');\n        this.$items = Utils.createNode('ps-canvas ps-canvas--items');\n        this.$scene.appendChild(this.$orbits);\n        this.$scene.appendChild(this.$items);\n        this.$node.appendChild(this.$scene);\n\n\n        // configuration\n\n        this.listeners = [];\n        this.normalOrbitSizes = this.getOrbitSizes(this.maxOrbit);\n        this.activeOrbitSizes = this.getOrbitSizes(this.maxOrbit + 1);\n        this.active = null;\n        this.paused = false;\n        this.timeScale = 1;\n        this.setCamera(options.camera);\n\n\n        // create scene\n\n        this.scene = new Scene(this);\n\n\n        // create sun\n\n        this.sun = new Sun({\n            ...options.sun,\n            system: this\n        });\n\n\n        // create orbits\n\n        this.orbits = options.orbits.map((options, index) => new PlanetOrbit({\n            ...options,\n            index,\n            system: this\n        }));\n\n\n        // listen\n\n        transitions(this);\n\n\n    }\n\n\n\n    // ----------------------\n    // Calculate orbit sizes\n    // ----------------------\n\n    getOrbitSizes (length) {\n        const { canvas, sun, moon } = this.options.sizes;\n        const minSunDist = (canvas - sun) / (length * 2 + 1);\n        let orbits = Array.from({ length }, (x, i) => sun + (i + 1) * minSunDist * 2);\n        orbits.moon = minSunDist - moon;\n        return orbits;\n    }\n    \n    get maxOrbit () {\n        return this.options.orbits.length;\n    }\n\n\n\n    // ----------------------\n    // Setting camera\n    // ----------------------\n\n    setCamera (camera) {\n        const transform = camera.angle ? `perspective(${camera.perspective}px) translateY(50%) rotateX(${camera.angle}deg) translateY(-50%)` : '';\n        this.$orbits.style.transform = this.$items.style.transform = transform;\n        this.$scene.style.width = this.options.sizes.canvas + 'px';\n        this.$scene.style.height = Utils.getSceneHeight(this.options.sizes.canvas, camera) + 'px';\n        this.camera = camera;\n        this.emit('camera', camera);\n    }\n\n\n\n    // ----------------------\n    // Events\n    // ----------------------\n\n    on (event, handler) {\n        this.listeners[event] = this.listeners[event] || [];\n        this.listeners[event].push(handler);\n    }\n\n    off (event, handler) {\n        if (!this.listeners[event]) return;\n        const index = this.listeners[event].indexOf(handler);\n        if (index > -1) this.listeners[event].splice(index, 1);\n    }\n\n    emit (event, param) {\n        if (!this.listeners[event]) return;\n        this.listeners[event].forEach(handler => handler(param, this));\n    }\n\n\n\n    // ----------------------\n    // Animation\n    // ----------------------\n\n    resume () {\n        this.paused = false;\n        this.emit('resume');\n    }\n\n    pause () {\n        this.paused = true;\n        this.emit('pause');\n    }\n\n    setTimeScale (timeScale) {\n        this.timeScale = timeScale;\n        this.emit('timescale', this.timeScale);\n    }\n\n\n\n}","import planetEnter from './planet-enter'\nimport planetLeave from './planet-leave'\nimport planetClick from './planet-click'\nimport moonEnter from './moon-enter'\nimport moonLeave from './moon-leave'\nimport sunClick from './sun-click'\n\nexport default function (system) {\n    system.on('planet:enter', planetEnter);\n    system.on('planet:leave', planetLeave);\n    system.on('moon:enter', moonEnter);\n    system.on('moon:leave', moonLeave);\n    system.on('planet:click', planetClick);\n    system.on('sun:click', sunClick);\n}"],"sourceRoot":""}